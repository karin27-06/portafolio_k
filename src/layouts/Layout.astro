---
// src/layouts/Layout.astro
const { title } = Astro.props;
---

<!doctype html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="description" content="Karin Hair Chozo Santamaria - Desarrolladora Full Stack" />
  <meta name="viewport" content="width=device-width" />
  <link rel="icon" type="image/svg+xml" href="/public/images/k.png" />

  <!-- Font Awesome + Devicons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css"/>

  <title>{title}</title>
</head>

<body>
  <!-- NAVBAR -->
  <header class="navbar">
    <div class="nav-container">
      <button class="menu-toggle" aria-label="Abrir menú">
  <i class="fa-solid fa-bars"></i>
</button>
      <a href="#inicio" class="logo">Karin.dev</a>

      <nav>
        <a href="#inicio">Inicio</a>
        <a href="#sobre-mi">Sobre mí</a>
        <a href="#habilidades">Habilidades</a>
        <a href="#tecnologias">Tecnologías</a>
        <a href="#proyectos">Proyectos</a>
        <a href="#contacto">Contacto</a>
      </nav>

      <button id="theme-toggle" aria-label="Cambiar tema">
        <i class="fa-solid fa-moon"></i>
      </button>
    </div>
  </header>

  <slot />
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const menuToggle = document.querySelector('.menu-toggle');
    const nav = document.querySelector('nav');

    if (!menuToggle || !nav) return;

    menuToggle.addEventListener('click', () => {
      nav.classList.toggle('open');
    });
  });
</script>

  <script>
  document.addEventListener('DOMContentLoaded', () => {
    const toggle = document.getElementById('theme-toggle');
    if (!toggle) return;

    const icon = toggle.querySelector('i');
    if (!icon) return;

    const storedTheme = localStorage.getItem('theme');

    if (storedTheme === 'dark') {
      document.body.classList.add('dark-mode');
      icon.classList.replace('fa-moon', 'fa-sun');
    }

    toggle.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');

      const isDark = document.body.classList.contains('dark-mode');
      icon.classList.toggle('fa-sun', isDark);
      icon.classList.toggle('fa-moon', !isDark);

      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    });
  });
</script>

</body>
</html>

<style is:global>
  :root {
    --primary:#667eea;
    --secondary:#764ba2;
    --bg-light:#ffffff;
    --bg-dark:#0f172a;
    --text-light:#ffffff;
    --text-dark:#1a202c;
    
  }

  body {
    margin:0;
    font-family:Inter,system-ui;
    background:var(--bg-light);
    color:var(--text-dark);
    transition:background .3s,color .3s;
  }

  body.dark-mode {
    background:var(--bg-dark);
    color:var(--text-light);
  }

  /* NAVBAR */
  .navbar {
    position:fixed;
    top:0;
    width:100%;
    background:rgba(255,255,255,.85);
    backdrop-filter:blur(10px);
    z-index:1000;
  }

  body.dark-mode .navbar {
    background:rgba(15,23,42,.85);
  }

  .nav-container {
    max-width:1200px;
    margin:auto;
    padding:1rem 2rem;
    display:flex;
    align-items:center;
    justify-content:space-between;
  }

  .logo {
  font-weight: 800;
  font-size: 1.2rem;
  color: var(--primary);
  text-decoration: none;
  cursor: pointer;
  padding: .4rem .8rem;
  border-radius: 8px;
  transition: background .3s ease, transform .2s ease;
}

.logo:hover {
  background: rgba(102, 126, 234, 0.15);
  transform: translateY(-1px);
}


  nav a {
    margin:0 1rem;
    text-decoration:none;
    font-weight:600;
    color:inherit;
    position:relative;
  }

  nav a::after {
    content:'';
    position:absolute;
    width:0;
    height:2px;
    background:var(--primary);
    left:0;
    bottom:-4px;
    transition:.3s;
  }

  nav a:hover::after {
    width:100%;
  }

  #theme-toggle {
    background:none;
    border:none;
    font-size:1.3rem;
    cursor:pointer;
    color:var(--primary);
  }

  main {
    padding-top:90px;
  }
  /* ===== RESPONSIVE NAVBAR ===== */
.menu-toggle {
  display: none;
  background: none;
  border: none;
  font-size: 1.5rem;
  color: var(--primary);
  cursor: pointer;
}

/* MOBILE */
@media (max-width: 768px) {
  nav {
    position: absolute;
    top: 70px;
    right: 20px;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-radius: 12px;
    display: flex;
    flex-direction: column;
    padding: 1rem;
    gap: 1rem;
    box-shadow: 0 10px 30px rgba(0,0,0,.15);
    opacity: 0;
    pointer-events: none;
    transform: translateY(-10px);
    transition: .3s ease;
  }

  body.dark-mode nav {
    background: rgba(15,23,42,.95);
  }

  nav.open {
    opacity: 1;
    pointer-events: auto;
    transform: translateY(0);
  }

  .menu-toggle {
    display: block;
  }
}

</style>
